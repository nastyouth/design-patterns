# Design Patterns
* Порождающие - отвечают за создание объектов
* Структурные - отвечают за структуру, наследование
* Поведенческие - отвечают за взаимодействие объектов

# Оглавление

* [Singleton](#Singleton)


# Singleton
> **Одиночка** - порождающий шаблон проектирования, гарантирующий, что в приложении будет единственный экземпляр некоторого класса, и предоставляющий глобальную точку доступа к этому экземпляру.

Плюсы:
- контролируемый доступ к единственному экземпляру  

Минусы:
- глобальные объекты могут быть вредны для ООП, в некоторых случаях приводят к созданию немасшабируемого проекта
- усложняет написание тестов и следование TDD.  

> **Основная задача синглтона** - предоставить пользователю один и только один объект определенного класса на весь жизненный цикл приложения.

Объект какого-либо класса можно создать бесконечное количество раз при помощи MyClass(), поэтому необходимо запрететить создание объекта нашего класса извне.

```swift
class MyClass {
    private init() {} 
} 
```

Мы получили класс, объекты которого не могут создаваться, потому что конструктор — **приватный**.  

Создадим объект нашего класса внутри нашего же класса. И будем использовать для этого статический метод. Так же  **отметим класс, как конечный (final)**, чтобы предотвратить унаследование или переопредление.

```swift
final class Singleton {

    static let shared = Singleton()

    private init() {}
}
```

Что касается **потокобезопасности**, в Swift не нужно выполнять какие-либо дополнительные действия. Константа **shared** уже потокобезопасна, т.к. значение в нее может быть записано один раз, и сделает это тот поток, который доберется до нее первым.

----

**TDD (Test Driven Development)** — это методология разработки ПО, которая основывается на повторении коротких циклов разработки: изначально пишется тест, покрывающий желаемое изменение, затем пишется программный код, который реализует желаемое поведение системы и позволит пройти написанный тест. Затем проводится рефакторинг написанного кода с постоянной проверкой прохождения тестов.

> TDD считается одной из форм правильного метода построения приложения. Философия разработки на основе тестов заключается в том, что ваши тесты являются спецификацией того, как ваша программа должна вести себя. 